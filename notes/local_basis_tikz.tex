% 2. Local basis
\colorlet{colP2}{gray!20}
\begin{tikzpicture}[scale=1.6]
	
 % ================================================================  
 % Spatial
  % ================================================================  	
	\coordinate (A) at (0,0);
	\coordinate (B) at (1,2);
	\fill[colP2,thick] (A) rectangle (B);
	\fill[colP2,thick] (4,0) rectangle (5,2);
	

        % title
        \node [fill=white] at (0.5,2.2) {left local basis};
        % horizontal links
        \draw[-] (0,0 ) -- (0.9,0) node [pos=0.5,below] {$s^l_{1}$};
        \draw[-] (0,1 ) -- (0.9,1) node [pos=0.5,below] {$s^l_{3}$};
        \draw[dashed] (0,2 ) -- (0.9,2) node [pos=0.5,below] {};
        %vertical links
        \draw[-] (0,0 ) -- (0,0.9) node [pos=0.5,left] {$s^l_{2}$};
        \draw[-] (0,1 ) -- (0,1.9) node [pos=0.5,left] {$s^l_{4}$};
        \fill (0,0)  circle[radius=1.5pt] node [anchor=south west] {(n,0)};
        \fill (0,1)  circle[radius=1.5pt] node [anchor=south west] {(n,1)};
        \fill[black!40] (1,0)  circle[radius=1.5pt] node [anchor=south west] {(n+1,0)};
        \fill[black!40] (1,1)  circle[radius=1.5pt] node [anchor=south west] {(n+1,1)};
        \fill[black!40] (0,2)  circle[radius=1.5pt] node [anchor=south west] {};
        \fill[black!40] (1,2)  circle[radius=1.5pt] node [anchor=south west] {};
                              
        %title
        \node [fill=white] at (4.5,2.2)  {right local basis};
         % horizontal links
        \draw[-] (4,0 ) -- (4.9,0) node [pos=0.5,below] {$s^r_{1}$};
        \draw[-] (4,1 ) -- (4.9,1) node [pos=0.5,below] {$s^r_{3}$};
        \draw[dashed] (4,2 ) -- (4.9,2) node [pos=0.5,below] {};
        %vertical links
        \draw[-] (5,0 ) -- (5,0.9) node [pos=0.5,left] {$s^r_{2}$};
        \draw[-] (5,1 ) -- (5,1.9) node [pos=0.5,left] {$s^r_{4}$};
        \fill (5,0)  circle[radius=1.5pt] node [anchor=south west] {(n+1,0)};
        \fill (5,1)  circle[radius=1.5pt] node [anchor=south west] {(n+1,1)};
        \fill[black!40] (4,0)  circle[radius=1.5pt] node [anchor=south east] {(n,0)};
        \fill[black!40] (4,1)  circle[radius=1.5pt] node [anchor=south east] {(n,1)};
        \fill[black!40] (5,2)  circle[radius=1.5pt] node [anchor=south west] {};
        \fill[black!40] (4,2)  circle[radius=1.5pt] node [anchor=south west] {};
                              
                                      

                              
	
	
	 % ----------------------------------------  
        
	 
\end{tikzpicture}
